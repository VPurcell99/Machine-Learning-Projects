%% *Vincent Purcell - HW 8 - ECE487*
clear; clc; close all;

%% *EVAL Clusters*
X = [mvnrnd([1 1], 1.*eye(2), 100); ...
     mvnrnd([3 2], 1.*eye(2), 100); ...
     mvnrnd([4 5], 1.*eye(2), 100); ...
     mvnrnd([0 5], 1.*eye(2), 100)];
evalFunc(X,4)

X = [mvnrnd([1 1], 1.*eye(2), 100); ...
     mvnrnd([5 5], 1.*eye(2), 100); ...
     mvnrnd([10 10], 1.*eye(2), 100)];
evalFunc(X,3)

X = [mvnrnd([2 6], 1.*eye(2), 100); ...
     mvnrnd([1 6], 1.*eye(2), 100); ...
     mvnrnd([1 0], 1.*eye(2), 100); ...
     mvnrnd([3 0], 1.*eye(2), 100)];
evalFunc(X,4)

X = [mvnrnd([0 0], 0.5.*eye(2), 100); ...
     mvnrnd([2 2], 0.5.*eye(2), 100); ...
     mvnrnd([4 4], 0.5.*eye(2), 100); ...
     mvnrnd([6 6], 0.5.*eye(2), 100); ...
     mvnrnd([8 8], 0.5.*eye(2), 100); ...
     mvnrnd([10 10], 0.5.*eye(2), 100)];
evalFunc(X,6)

X = [mvnrnd([3 6], 0.5.*eye(2), 100); ...
     mvnrnd([0 6], 1.*eye(2), 10); ...
     mvnrnd([2 4], 1.*eye(2), 10)];
evalFunc(X,3)

X = [mvnrnd([3 4], 0.5.*eye(2), 50); ...
     mvnrnd([0 4], 1.*eye(2), 15); ...
     mvnrnd([2 1], 1.*eye(2), 15)];
evalFunc(X,3)
%% *Eval Clusters Function*
function evalFunc(X,k)
    eva = evalclusters(X,'kmeans','gap','KList',1:6); %eval clusters
    figure;
    hold on
    subplot(2,2,[2 4]);plot(eva) 
    ClusterGroup = eva.OptimalY; % optimal clusters
    subplot(2,2,[1 3]);gscatter(X(:,1),X(:,2),ClusterGroup,'rbgkcmy','xod^*s+h');
    title_str = "EvalClusters - Guassian Distributions=" + num2str(k);
    sgtitle(title_str)
    hold off
end